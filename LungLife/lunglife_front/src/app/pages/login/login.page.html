<ion-header>
  <ion-toolbar>
    <ion-title>Iniciar Sesión</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="form-container fade-in">
    <!-- Email -->
    <ion-item>
      <ion-input
        label="Email"
        formControlName="email"
        placeholder="ejemplo@correo.com"
        type="email"
        [clearInput]="true"
      ></ion-input>
    </ion-item>

    <!-- Contraseña -->
    <ion-item>
      <ion-input
        label="Contraseña"
        formControlName="password"
        placeholder="Tu contraseña"
        type="password"
        [clearInput]="true"
      ></ion-input>
    </ion-item>

    <!-- Botón de Login -->
    <ion-button
      type="submit"
      expand="block"
      [disabled]="!loginForm.valid || isLoading"
      class="ion-margin-top"
    >
      <ion-spinner *ngIf="isLoading"></ion-spinner>
      {{ isLoading ? 'Iniciando sesión...' : 'Iniciar Sesión' }}
    </ion-button>
  </form>

  <!-- Link a Registro -->
  <div class="ion-text-center ion-margin-top">
    <p class="text-muted">¿No tienes cuenta?
      <a (click)="navigateToRegister()" style="cursor: pointer; color: var(--ion-color-primary);">
        Regístrate aquí
      </a>
    </p>
  </div>

  <!-- Alerta -->
  <ion-alert
    [isOpen]="showAlert"
    [header]="alertHeader"
    [message]="alertMessage"
    [buttons]="['OK']"
    (didDismiss)="showAlert = false"
  ></ion-alert>
</ion-content>
